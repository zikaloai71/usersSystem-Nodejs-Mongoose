{{>header}}
{{>nav}}

<section class="container my-3">
    {{#if user}}
    {{#if user.activeStatus}}

    <ul class="list-group">
        <li class="list-group-item list-group-item-success">user id: {{user._id}}</li>
        <li class="list-group-item list-group-item-success">user name: {{user.name}}</li>
        <li class="list-group-item list-group-item-success">user email:{{user.email}}</li>
        <li class="list-group-item list-group-item-success">user age:{{user.age}}</li>
        <li class="list-group-item list-group-item-success">user status: on</li>
         </ul>
             {{#if user.addresses}}
        <section class="my-4 container">
        <table class="table table-bordered">
            <thead>
                <th>address type</th>
                <th>address details</th>
                <th>Actions</th>
            </thead>
            <tbody id="dataWrap">
            {{#each user.addresses}}
             <tr>
             <td>{{this.addressType}}</td>
             <td >{{this.addressDetail}}</td>
               <td >
                <a href="/deleteAddress/{{this.id}}" class="btn btn-danger">Delete</a>
                <a href="/editAddress/{{this.id}}" class="btn btn-success">Edit</a>
                </td>
             
             </tr>
           {{/each}}
            </tbody>
          </table>
    </section>
    {{/if}}

    {{else}}
    <ul class="list-group">
        <li class="list-group-item list-group-item-danger">user id: {{user._id}}</li>
        <li class="list-group-item list-group-item-danger">user name: {{user.name}}</li>
        <li class="list-group-item list-group-item-danger">user email:{{user.email}}</li>
        <li class="list-group-item list-group-item-danger">user age:{{user.age}}</li>
        <li class="list-group-item list-group-item-danger">user status: off</li>
    </ul>
     {{#if user.addresses}}
           <section class="my-4 container">
        <table class="table table-bordered">
            <thead>
                <th>address type</th>
                <th>address details</th>
                <th>Actions</th>
            </thead>
            <tbody id="dataWrap">
            {{#each user.addresses}}
             <tr>
             <td>{{this.addressType}}</td>
             <td >{{this.addressDetail}}</td>
              <td>
                <a href="/deleteAddress/{{this.id}}" class="btn btn-danger">Delete</a>
                <a href="/editAddress/{{this.id}}" class="btn btn-success">Edit</a>
              </td>
             </tr>
           {{/each}}
            </tbody>
          </table>
    </section>
   {{/if}}
    {{/if}}
     <a href="/addAddress/{{user._id}}" class=" btn btn-dark">add address</a>
    {{else}}
    <div class="alert alert-danger"> no user with this id</div>
    {{/if}}

</section>

{{>footer}}
